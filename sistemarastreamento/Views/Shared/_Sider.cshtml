@inject Microsoft.AspNetCore.Http.IHttpContextAccessor httpContextaccessor

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <link rel="stylesheet" href="~/css/sider.css">

    <!-- BOX ICONS CSS-->
    <link href='https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css' rel='stylesheet'>

    @RenderSection("css", false)
</head>

<body id="body">
    <div class="l-navbar" id="navbar">
        <nav class="nav">
            <div>
                <a href="/Default" class="nav__logo">
                    <img src="~/img/logo.png" alt="" class="nav__logo-icon">
                    <span class="nav__logo-text">Rastro+</span>
                </a>

                <div class="nav__toggle" id="nav-toggle">
                    <i class='bx bx-chevron-right'></i>
                </div>

                <ul class="nav__list">
                    <a href="/Default" class="nav__link active">
                        <i class='bx bxs-home nav__icon'></i>
                        <span class="nav__text">Home</span>
                    </a>

                    @{
                        if (httpContextaccessor.HttpContext.User.Claims.ToList()[1].Value == "Indústria")
                        {
                            <a href="/CadastroProdIndust/indexListar" class="nav__link">
                                <i class='bx bxs-package nav__icon'></i>
                                <span class="nav__text">Produto</span>
                            </a>
                            /*<a href="/CadastroIndustria/indexListar" class="nav__link">
                                <i class='bx bx-buildings nav__icon'></i>
                                <span class="nav__text">Indústria</span>
                            </a>*/
                            <a href="/CadastroDistribuidor/indexListar" class="nav__link">
                                <i class='bx bxs-truck nav__icon'></i>
                                <span class="nav__text">Distribuidor</span>
                            </a>
                            <a href="/LancamentoIndust/indexListar" class="nav__link">
                                <i class='bx bx-rocket nav__icon'></i>
                                <span class="nav__text">Lançamento</span>
                            </a>

                        }
                        else
                        {
                            <a href="/CadastroProdDist/indexListar" class="nav__link">
                                <i class='bx bxs-package nav__icon'></i>
                                <span class="nav__text">Produto</span>
                            </a>
                            <a href="/LancamentoDist/indexListar" class="nav__link">
                                <i class='bx bx-rocket nav__icon'></i>
                                <span class="nav__text">Lançamento</span>
                            </a>
                        }
                    }

                </ul>
            </div>
            <a href="/Login/Sair" class="nav__link">
                <i class='bx bx-log-out-circle nav__icon'></i>
                <span class="nav__text">Sair</span>
            </a>
        </nav>
    </div>

    <section id="introSimples"></section>

    <main id="main">

        @RenderBody()

    </main>

    <script>
        // SHOW MENU
        const showMenu = (toggleId, navbarId, bodyId) => {
            const toggle = document.getElementById(toggleId),
                navbar = document.getElementById(navbarId),
                bodypadding = document.getElementById(bodyId)

            if (toggle && navbar) {
                toggle.addEventListener('click', () => {
                    // APARECER MENU
                    navbar.classList.toggle('show')
                    // ROTATE TOGGLE
                    toggle.classList.toggle('rotate')
                    // PADDING BODY
                    bodypadding.classList.toggle('expander')
                })
            }
        }
        showMenu('nav-toggle', 'navbar', 'body')

        // LINK ACTIVE COLOR
        const linkColor = document.querySelectorAll('.nav__link');
        function colorLink() {
            linkColor.forEach(l => l.classList.remove('active'));
            this.classList.add('active');
        }

        linkColor.forEach(l => l.addEventListener('click', colorLink));
    </script>

    @RenderSection("Scripts", required: false)
    @RenderSection("js", false)

</body>

</html>